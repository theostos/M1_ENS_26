<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.GCongr.Core</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.GCongr.Core";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">Core</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Lean.html">Lean</a></li><li><a href="../../.././Batteries/Lean/Except.html">Batteries.Lean.Except</a></li><li><a href="../../.././Batteries/Tactic/Exact.html">Batteries.Tactic.Exact</a></li><li><a href="../../.././Lean/Meta/Tactic/Apply.html">Lean.Meta.Tactic.Apply</a></li><li><a href="../../.././Mathlib/Order/Defs/Unbundled.html">Mathlib.Order.Defs.Unbundled</a></li><li><a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html">Mathlib.Tactic.GCongr.ForwardAttr</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.GCongr.Core" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.GCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrKey</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instInhabitedGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrKey</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrKey</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instBEqGCongrKey.beq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instBEqGCongrKey</span>.<span class="name">beq</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instBEqGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instBEqGCongrKey</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instHashableGCongrKey.hash"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instHashableGCongrKey</span>.<span class="name">hash</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instHashableGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instHashableGCongrKey</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.GCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemma</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrLemma</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrLemma</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.GCongrLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemmas</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.GCongrLemma.prioLE"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemma</span>.<span class="name">prioLE</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.addGCongrLemmaEntry"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">addGCongrLemmaEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.gcongrExt"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrExt</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.getCongrAppFnArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">getCongrAppFnArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.getRel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">getRel</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.updateRel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">updateRel</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.makeGCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">makeGCongrLemma</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.tacticGcongr_discharger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">tacticGcongr_discharger</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.gcongrDischarger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrDischarger</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.exactRefl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">exactRefl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.symmExact"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">symmExact</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.exact"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">exact</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.gcongrForward"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">gcongrForward</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.gcongrForwardDischarger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrForwardDischarger</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.mkHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">mkHoleAnnotation</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.hasHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">hasHoleAnnotation</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.containsHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">containsHoleAnnotation</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.gcongrHoleExpand"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrHoleExpand</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.elabCHoleExpand"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">elabCHoleExpand</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.rel_imp_rel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">rel_imp_rel</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.relImpRelLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">relImpRelLemma</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.applyWithArity"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">applyWithArity</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.gcongr"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">gcongr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.tacticGcongr___With___"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">tacticGcongr___With___</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.GCongr.«tacticRel[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">«tacticRel[_]»</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="The-gcongr-generalized-congruence-tactic">The <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> (&quot;generalized congruence&quot;) tactic <a class="hover-link" href="#The-gcongr-generalized-congruence-tactic">#</a></h1><p>The <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> tactic applies &quot;generalized congruence&quot; rules, reducing a relational goal
between an LHS and RHS matching the same pattern to relational subgoals between the differing
inputs to the pattern.  For example,</p><pre><code>example {a b x c d : ℝ} (h1 : a + 1 ≤ b + 1) (h2 : c + 2 ≤ d + 2) :
    x ^ 2 * a + c ≤ x ^ 2 * b + d := by
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a>
  · linarith
  · linarith
</code></pre><p>This example has the goal of proving the relation <code>≤</code> between an LHS and RHS both of the pattern</p><pre><code>x ^ 2 * ?_ + ?_
</code></pre><p>(with inputs <code>a</code>, <code>c</code> on the left and <code>b</code>, <code>d</code> on the right); after the use of
<code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>, we have the simpler goals <code>a ≤ b</code> and <code>c ≤ d</code>.</p><p>A depth limit, or a pattern can be provided explicitly;
this is useful if a non-maximal match is desired:</p><pre><code>example {a b c d x : ℝ} (h : a + c + 1 ≤ b + d + 1) :
    x ^ 2 * (a + c) + 5 ≤ x ^ 2 * (b + d) + 5 := by
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a> x ^ 2 * ?_ + 5 -- or `gcongr 2`
  linarith
</code></pre><h2 class="markdown-heading" id="Sourcing-the-generalized-congruence-lemmas">Sourcing the generalized congruence lemmas <a class="hover-link" href="#Sourcing-the-generalized-congruence-lemmas">#</a></h2><p>Relevant &quot;generalized congruence&quot; lemmas are declared using the attribute <code>@[gcongr]</code>.  For
example, the first example constructs the proof term</p><pre><code>add_le_add (mul_le_mul_of_nonneg_left _ (pow_bit0_nonneg x 1)) _
</code></pre><p>using the generalized congruence lemmas <code>add_le_add</code> and <code>mul_le_mul_of_nonneg_left</code>. The term
<code>pow_bit0_nonneg x 1</code> is automatically generated by a discharger (see below).</p><p>When a lemma is tagged <code>@[gcongr]</code>, it is verified that the lemma is of &quot;generalized congruence&quot;
form, <code>f x₁ y z₁ ∼ f x₂ y z₂</code>, that is, a relation between the application of a function to two
argument lists, in which the &quot;varying argument&quot; pairs (here <code>x₁</code>/<code>x₂</code> and <code>z₁</code>/<code>z₂</code>) are all free
variables. The <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> tactic will try a lemma only if it matches the goal in relation <code>∼</code>,
head function <code>f</code> and the arity of <code>f</code>.  It prioritizes lemmas with fewer &quot;varying arguments&quot;. Thus,
for example, all three of the following lemmas are tagged <code>@[gcongr]</code> and are used in different
situations according to whether the goal compares constant-left-multiplications,
constant-right-multiplications, or fully varying multiplications:</p><pre><code>theorem mul_le_mul_of_nonneg_left [Mul α] [Zero α] [Preorder α] [PosMulMono α]
    {a b c : α} (h : b ≤ c) (a0 : 0 ≤ a) :
    a * b ≤ a * c

theorem mul_le_mul_of_nonneg_right [Mul α] [Zero α] [Preorder α] [MulPosMono α]
    {a b c : α} (h : b ≤ c) (a0 : 0 ≤ a) :
    b * a ≤ c * a

theorem mul_le_mul [MulZeroClass α] [Preorder α] [PosMulMono α] [MulPosMono α]
    {a b c d : α} (h₁ : a ≤ b) (h₂ : c ≤ d) (c0 : 0 ≤ c) (b0 : 0 ≤ b) :
    a * c ≤ b * d
</code></pre><p>The advantage of this approach is that the lemmas with fewer &quot;varying&quot; input pairs typically require
fewer side conditions, so the tactic becomes more useful by special-casing them.</p><p>There can also be more than one generalized congruence lemma dealing with the same relation
and head function, for example with purely notational head
functions which have different theories when different typeclass assumptions apply.  For example,
the following lemma is stored with the same <code>@[gcongr]</code> data as <code>mul_le_mul</code> above, and the two
lemmas are simply tried in succession to determine which has the typeclasses relevant to the goal:</p><pre><code>theorem mul_le_mul' [Mul α] [Preorder α] [MulLeftMono α]
    [MulRightMono α] {a b c d : α} (h₁ : a ≤ b) (h₂ : c ≤ d) :
    a * c ≤ b * d
</code></pre><h2 class="markdown-heading" id="Resolving-goals">Resolving goals <a class="hover-link" href="#Resolving-goals">#</a></h2><p>The tactic attempts to discharge side goals to the &quot;generalized congruence&quot; lemmas (such as the
side goal <code>0 ≤ x ^ 2</code> in the above application of <code>mul_le_mul_of_nonneg_left</code>) using the tactic
<code>gcongr_discharger</code>, which wraps <code>positivity</code> but can also be extended. Side goals not discharged
in this way are left for the user.</p><p>The tactic also attempts to discharge &quot;main&quot; goals using the available hypotheses, as well as a
limited amount of forward reasoning.  Such attempts are made <em>before</em> descending further into
matching by congruence. The built-in forward-reasoning includes reasoning by symmetry and
reflexivity, and this can be extended by writing tactic extensions tagged with the
<code>@[gcongr_forward]</code> attribute.</p><h2 class="markdown-heading" id="Introducing-variables-and-hypotheses">Introducing variables and hypotheses <a class="hover-link" href="#Introducing-variables-and-hypotheses">#</a></h2><p>Some natural generalized congruence lemmas have &quot;main&quot; hypotheses which are universally quantified
or have the structure of an implication, for example</p><pre><code>theorem GCongr.Finset.sum_le_sum [OrderedAddCommMonoid N] {f g : ι → N} {s : Finset ι}
    (h : ∀ (i : ι), i ∈ s → f i ≤ g i) :
    s.sum f ≤ s.sum g
</code></pre><p>The tactic automatically introduces the variable <code>i✝ : ι</code> and hypothesis <code>hi✝ : i✝ ∈ s</code> in the
subgoal <code>∀ (i : ι), i ∈ s → f i ≤ g i</code> generated by applying this lemma.  By default this is done
anonymously, so they are inaccessible in the goal state which results.  The user can name them if
needed using the syntax <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a> with i hi</code>.</p><h2 class="markdown-heading" id="Variants">Variants <a class="hover-link" href="#Variants">#</a></h2><p>The tactic <code>rel</code> is a variant of <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>, intended for teaching.  Local hypotheses are not
used automatically to resolve main goals, but must be invoked by name:</p><pre><code>example {a b x c d : ℝ} (h1 : a ≤ b) (h2 : c ≤ d) :
    x ^ 2 * a + c ≤ x ^ 2 * b + d := by
  rel [h1, h2]
</code></pre><p>The <code>rel</code> tactic is finishing-only: it fails if any main or side goals are not resolved.</p><h2 class="markdown-heading" id="Implementation-notes">Implementation notes <a class="hover-link" href="#Implementation-notes">#</a></h2><h3 class="markdown-heading" id="Patterns">Patterns <a class="hover-link" href="#Patterns">#</a></h3><p>When you provide a pattern, such as in <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a> x ^ 2 * ?_ + 5</code>, this is elaborated with a metadata
annotation at each <code>?_</code> hole. This is then unified with the LHS of the relation in the goal.
As a result, the pattern becomes the same as the LHS, but with mdata annotations that
indicate where the original <code>?_</code> holes were. The LHS is then replaced with this expression so that
<code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> can tell based on the LHS how far to continue recursively. We also keep track of when
then LHS and RHS swap around, so that we know where to look for the metadata annotation.</p></div><div class="decl" id="Mathlib.Tactic.GCongr.GCongrKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L144-L153">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></code> is the key used in the hashmap for looking up <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> lemmas.</p><ul class="structure_fields" id="Mathlib.Tactic.GCongr.GCongrKey.mk"><li id="Mathlib.Tactic.GCongr.GCongrKey.relName" class="structure_field"><div class="structure_field_info">relName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The name of the relation. For example, <code>a + b ≤ a + c</code> has <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.relName">relName</a> := `LE.le</code>.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrKey.head" class="structure_field"><div class="structure_field_info">head : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The name of the head function. For example, <code>a + b ≤ a + c</code> has <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.head">head</a> := `HAdd.hAdd</code>.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrKey.arity" class="structure_field"><div class="structure_field_info">arity : <a href="../../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>The number of arguments that <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.head">head</a></code> is applied to.
For example, <code>a + b ≤ a + c</code> has <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.arity">arity</a> := 6</code>, because <code><a href="../../.././Init/Prelude.html#HAdd.hAdd">HAdd.hAdd</a></code> has 6 arguments.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.GCongr.GCongrKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instInhabitedGCongrKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrKey">Mathlib.Tactic.GCongr.instInhabitedGCongrKey</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default">Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrKey</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default">Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">{</a> <span class="fn">relName</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">head</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">arity</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">}</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.instInhabitedGCongrKey.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instBEqGCongrKey.beq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey.beq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instBEqGCongrKey</span>.<span class="name">beq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a> → <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey.beq">Mathlib.Tactic.GCongr.instBEqGCongrKey.beq</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">{</a> <span class="fn">relName</span> := <span class="fn">a</span>, <span class="fn">head</span> := <span class="fn">a_1</span>, <span class="fn">arity</span> := <span class="fn">a_2</span> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">}</a>
    <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">{</a> <span class="fn">relName</span> := <span class="fn">b</span>, <span class="fn">head</span> := <span class="fn">b_1</span>, <span class="fn">arity</span> := <span class="fn">b_2</span> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">}</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> (<span class="fn">a_1</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_1</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">a_2</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_2</span>))</li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey.beq">Mathlib.Tactic.GCongr.instBEqGCongrKey.beq</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.instBEqGCongrKey.beq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instBEqGCongrKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instBEqGCongrKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey">Mathlib.Tactic.GCongr.instBEqGCongrKey</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instBEqGCongrKey.beq">Mathlib.Tactic.GCongr.instBEqGCongrKey.beq</a> <a href="../../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instHashableGCongrKey.hash"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instHashableGCongrKey.hash"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instHashableGCongrKey</span>.<span class="name">hash</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a> → <a href="../../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instHashableGCongrKey.hash">Mathlib.Tactic.GCongr.instHashableGCongrKey.hash</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">{</a> <span class="fn">relName</span> := <span class="fn">a</span>, <span class="fn">head</span> := <span class="fn">a_1</span>, <span class="fn">arity</span> := <span class="fn">a_2</span> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.mk">}</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">(<a href="../../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">(<a href="../../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">0</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span>)</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_1</span>)</span>)</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_2</span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.instHashableGCongrKey.hash" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instHashableGCongrKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L153-L153">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instHashableGCongrKey"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instHashableGCongrKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instHashableGCongrKey">Mathlib.Tactic.GCongr.instHashableGCongrKey</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instHashableGCongrKey.hash">Mathlib.Tactic.GCongr.instHashableGCongrKey.hash</a> <a href="../../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.GCongrLemma"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L155-L174">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemma</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Structure recording the data for a &quot;generalized congruence&quot; (<code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>) lemma.</p><ul class="structure_fields" id="Mathlib.Tactic.GCongr.GCongrLemma.mk"><li id="Mathlib.Tactic.GCongr.GCongrLemma.key" class="structure_field"><div class="structure_field_info">key : <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a></div><div class="structure_field_doc"><p>The key under which the lemma is stored.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrLemma.declName" class="structure_field"><div class="structure_field_info">declName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The name of the lemma.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrLemma.mainSubgoals" class="structure_field"><div class="structure_field_info">mainSubgoals : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></div><div class="structure_field_doc"><p><code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.mainSubgoals">mainSubgoals</a></code> are the subgoals on which <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> will be recursively called. They store</p><ul>
<li>the index of the hypothesis</li>
<li>the number of parameters in the hypothesis</li>
<li>whether it is contravariant (i.e. switches the order of the two arguments)</li>
</ul></div></li><li id="Mathlib.Tactic.GCongr.GCongrLemma.numHyps" class="structure_field"><div class="structure_field_info">numHyps : <a href="../../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>The number of arguments that <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.declName">declName</a></code> takes when applying it.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrLemma.prio" class="structure_field"><div class="structure_field_info">prio : <a href="../../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>The given priority of the lemma, for example as <code>@[gcongr high]</code>.</p></div></li><li id="Mathlib.Tactic.GCongr.GCongrLemma.numVarying" class="structure_field"><div class="structure_field_info">numVarying : <a href="../../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>The number of arguments in the application of <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey.head">head</a></code> that are different.
This is used for sorting the lemmas.
For example, <code>a + b ≤ a + c</code> has <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.numVarying">numVarying</a> := 1</code>.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.GCongr.GCongrLemma" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instInhabitedGCongrLemma"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L174-L174">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrLemma</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma">Mathlib.Tactic.GCongr.instInhabitedGCongrLemma</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default">Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L174-L174">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">instInhabitedGCongrLemma</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default">Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.mk">{</a> <span class="fn">key</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">declName</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">mainSubgoals</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">numHyps</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">prio</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>,
    <span class="fn">numVarying</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.mk">}</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.instInhabitedGCongrLemma.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.GCongrLemmas"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L176-L177">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemmas</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A collection of <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></code>, to be stored in the environment extension.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemmas">Mathlib.Tactic.GCongr.GCongrLemmas</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">Mathlib.Tactic.GCongr.GCongrKey</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">Mathlib.Tactic.GCongr.GCongrLemma</a>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.GCongrLemmas" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.GCongrLemma.prioLE"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L179-L181">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.prioLE"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">GCongrLemma</span>.<span class="name">prioLE</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return <code>true</code> if the priority of <code>a</code> is less than or equal to the priority of <code>b</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.prioLE">prioLE</a></span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">(<a href="../../.././Init/Data/Ord/Basic.html#Ord.compare">compare</a> <span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.prio">prio</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.prio">prio</a></span>)</span>.<a href="../../.././Init/Data/Ord/Basic.html#Ordering.then">then</a></span> <span class="fn">(<a href="../../.././Init/Data/Ord/Basic.html#Ord.compare">compare</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.numVarying">numVarying</a></span> <span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma.numVarying">numVarying</a></span>)</span>)</span>.<a href="../../.././Init/Data/Ord/Basic.html#Ordering.isLE">isLE</a></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.GCongrLemma.prioLE" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.addGCongrLemmaEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L183-L192">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.addGCongrLemmaEntry"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">addGCongrLemmaEntry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemmas">GCongrLemmas</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemmas">GCongrLemmas</a></div></div><p>Insert a <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></code> in a collection of lemmas, making sure that the lemmas are sorted.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.addGCongrLemmaEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.gcongrExt"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L194-L200">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrExt"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrExt</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/ScopedEnvExtension.html#Lean.SimpleScopedEnvExtension">Lean.SimpleScopedEnvExtension</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a> <span class="fn">(<a href="../../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrKey">GCongrKey</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a>)</span>)</span></span></div></div><p>Environment extension for &quot;generalized congruence&quot; (<code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>) lemmas.</p></div></div><div class="decl" id="Mathlib.Tactic.GCongr.getCongrAppFnArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L202-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.getCongrAppFnArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">getCongrAppFnArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> (<a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Given an application <code>f a₁ .. aₙ</code>, return the name of <code>f</code>, and the array of arguments <code>aᵢ</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.getCongrAppFnArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.getRel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L214-L224">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.getRel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">getRel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> (<a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></div></div><p>If <code>e</code> is of the form <code>r a b</code>, return <code>(r, a, b)</code>.
Note: we assume that <code>e</code> does not have an <code>Expr.mdata</code> annotation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.getRel">Mathlib.Tactic.GCongr.getRel</a> <span class="fn">(<span class="fn"><span class="fn">(<span class="fn"><span class="fn">rel</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.app">app</a></span> <span class="fn">lhs</span>)</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.app">app</a></span> <span class="fn">rhs</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#Option.map">Option.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">x</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">lhs</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">rhs</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <span class="fn"><span class="fn"><span class="fn">rel</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.getAppFn">getAppFn</a></span>.<a href="../../.././Lean/Expr.html#Lean.Expr.constName?">constName?</a></span></span></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.getRel">Mathlib.Tactic.GCongr.getRel</a> <span class="fn">(<a href="../../.././Lean/Expr.html#Lean.Expr.forallE">Lean.Expr.forallE</a> <span class="fn">binderName</span> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">binderInfo</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#ite">if</a> (<a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">rhs</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.hasLooseBVars">hasLooseBVars</a></span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">`_Implies</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">lhs</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">rhs</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span> <a href="../../.././Init/Prelude.html#ite">else</a> <a href="../../.././Init/Prelude.html#Option.none">none</a></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.getRel">Mathlib.Tactic.GCongr.getRel</a> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Option.none">none</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.getRel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.updateRel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L226-L231">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.updateRel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">updateRel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r </span><span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">isLhs</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><p>If <code>e</code> is of the form <code>r a b</code>, replace either <code>a</code> or <code>b</code> with <code>e</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.updateRel">Mathlib.Tactic.GCongr.updateRel</a> <span class="fn">(<span class="fn"><span class="fn">(<span class="fn"><span class="fn">rel</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.app">app</a></span> <span class="fn">lhs</span>)</span>.<a href="../../.././Lean/Expr.html#Lean.Expr.app">app</a></span> <span class="fn">rhs</span>)</span> <span class="fn">e</span> <span class="fn">isLhs</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">isLhs</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../../.././Lean/Expr.html#Lean.mkApp2">Lean.mkApp2</a> <span class="fn">rel</span> <span class="fn">e</span> <span class="fn">rhs</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../../.././Lean/Expr.html#Lean.mkApp2">Lean.mkApp2</a> <span class="fn">rel</span> <span class="fn">lhs</span> <span class="fn">e</span></span></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.updateRel">Mathlib.Tactic.GCongr.updateRel</a> <span class="fn">r</span> <span class="fn">e</span> <span class="fn">isLhs</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">r</span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.updateRel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.makeGCongrLemma"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L233-L295">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.makeGCongrLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">makeGCongrLemma</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declTy</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">numHyps </span><span class="fn">prio</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></span></div></div><p>Construct the <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></code> data from a given lemma.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.makeGCongrLemma" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.tacticGcongr_discharger"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L349-L349">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.tacticGcongr_discharger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">tacticGcongr_discharger</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.tacticGcongr_discharger">Mathlib.Tactic.GCongr.tacticGcongr_discharger</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#Lean.ParserDescr.node">Lean.ParserDescr.node</a> <span class="fn">`Mathlib.Tactic.GCongr.tacticGcongr_discharger</span> <span class="fn">1024</span>
    <span class="fn">(<a href="../../.././Init/Prelude.html#Lean.ParserDescr.nonReservedSymbol">Lean.ParserDescr.nonReservedSymbol</a> <span class="fn">&quot;gcongr_discharger&quot;</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.tacticGcongr_discharger" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.gcongrDischarger"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L351-L359">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrDischarger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrDischarger</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>This is used as the default side-goal discharger,
it calls the <code>gcongr_discharger</code> extensible tactic.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.gcongrDischarger" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.exactRefl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L363-L368">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.exactRefl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">exactRefl</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt">ForwardExt</a></div></div><p>See if the term is <code>a = b</code> and the goal is <code>a ∼ b</code> or <code>b ∼ a</code>, with <code>∼</code> reflexive.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.exactRefl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.symmExact"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L370-L372">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.symmExact"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">symmExact</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt">ForwardExt</a></div></div><p>See if the term is <code>a ∼ b</code> with <code>∼</code> symmetric and the goal is <code>b ∼ a</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.symmExact">Mathlib.Tactic.GCongr.symmExact</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt.mk">{</a>     <span class="fn">eval</span> := <span class="fn">fun (<span class="fn">h</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>) (<span class="fn">goal</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>) =&gt; <span class="fn">do
      let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">goal</span>.<a href="../../.././Lean/Meta/Tactic/Symm.html#Lean.MVarId.applySymm">applySymm</a></span>
      <span class="fn"><span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Batteries/Tactic/Exact.html#Lean.MVarId.assignIfDefEq">assignIfDefEq</a></span> <span class="fn">h</span></span></span></span> <a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt.mk">}</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.symmExact" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.exact"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L374-L375">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.exact"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">exact</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt">ForwardExt</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.exact">Mathlib.Tactic.GCongr.exact</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt.mk">{</a> <span class="fn">eval</span> := <span class="fn">fun (<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>) (<span class="fn">m</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">m</span>.<a href="../../.././Batteries/Tactic/Exact.html#Lean.MVarId.assignIfDefEq">assignIfDefEq</a></span> <span class="fn">e</span></span></span> <a href="../../.././Mathlib/Tactic/GCongr/ForwardAttr.html#Mathlib.Tactic.GCongr.ForwardExt.mk">}</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.exact" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.gcongrForward"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L377-L393">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongrForward"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">gcongrForward</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Attempt to resolve an (implicitly) relational goal by one of a provided list of hypotheses,
either with such a hypothesis directly or by a limited palette of relational forward-reasoning from
these hypotheses.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.MVarId.gcongrForward" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.gcongrForwardDischarger"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L395-L407">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrForwardDischarger"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrForwardDischarger</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>This is used as the default main-goal discharger,
consisting of running <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongrForward">Lean.MVarId.gcongrForward</a></code> (trying a term together with limited
forward-reasoning on that term) on each nontrivial hypothesis.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.gcongrForwardDischarger" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.mkHoleAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L409-L411">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.mkHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">mkHoleAnnotation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><p>Annotate <code>e</code> with a <code>gcongrHole</code> mdata annotation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.mkHoleAnnotation">Mathlib.Tactic.GCongr.mkHoleAnnotation</a> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Expr.html#Lean.mkAnnotation">Lean.mkAnnotation</a> <span class="fn">`gcongrHole</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.mkHoleAnnotation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.hasHoleAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L413-L415">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.hasHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">hasHoleAnnotation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Check whether <code>e</code> has a <code>gcongrHole</code> mdata annotation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.hasHoleAnnotation">Mathlib.Tactic.GCongr.hasHoleAnnotation</a> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Lean/Expr.html#Lean.annotation?">Lean.annotation?</a> <span class="fn">`gcongrHole</span> <span class="fn">e</span>)</span>.<a href="../../.././Init/Data/Option/Basic.html#Option.isSome">isSome</a></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.hasHoleAnnotation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.containsHoleAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L417-L420">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.containsHoleAnnotation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">containsHoleAnnotation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Determine whether <code>e</code> contains a <code>gcongrHole</code> mdata annotation in any subexpression.
This tells <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> whether to continue applying <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> lemmas.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.containsHoleAnnotation">Mathlib.Tactic.GCongr.containsHoleAnnotation</a> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Lean/Util/FindExpr.html#Lean.Expr.find?">Lean.Expr.find?</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.hasHoleAnnotation">Mathlib.Tactic.GCongr.hasHoleAnnotation</a> <span class="fn">e</span>)</span>.<a href="../../.././Init/Data/Option/Basic.html#Option.isSome">isSome</a></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.containsHoleAnnotation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.gcongrHoleExpand"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L422-L424">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrHoleExpand"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">gcongrHoleExpand</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>(Internal for <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>)
Elaborates to an expression satisfying <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.hasHoleAnnotation">hasHoleAnnotation</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.gcongrHoleExpand" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.elabCHoleExpand"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L426-L430">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.elabCHoleExpand"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">elabCHoleExpand</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></div></div><p>(Internal for <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>)
Elaborates to an expression satisfying <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.hasHoleAnnotation">hasHoleAnnotation</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.elabCHoleExpand" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>The lemmas <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.rel_imp_rel">rel_imp_rel</a></code>, <code>rel_trans</code> and <code>rel_trans'</code> are too general to be tagged with
<code>@[gcongr]</code>, so instead we use <code>getTransLemma?</code> to look up these lemmas.</p></div><div class="decl" id="Mathlib.Tactic.GCongr.rel_imp_rel"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L441-L442">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.rel_imp_rel"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">rel_imp_rel</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">r</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">α</span> → <a href="../../.././foundational_types.html">Prop</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Order/Defs/Unbundled.html#IsTrans">IsTrans</a> <span class="fn">α</span> <span class="fn">r</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b </span><span class="fn">c </span><span class="fn">d</span> : <span class="fn">α</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h₁</span> : <span class="fn"><span class="fn">r</span> <span class="fn">c</span> <span class="fn">a</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h₂</span> : <span class="fn"><span class="fn">r</span> <span class="fn">b</span> <span class="fn">d</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">r</span> <span class="fn">a</span> <span class="fn">b</span></span> → <span class="fn"><span class="fn">r</span> <span class="fn">c</span> <span class="fn">d</span></span></span></div></div></div></div><div class="decl" id="Mathlib.Tactic.GCongr.relImpRelLemma"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L444-L456">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.relImpRelLemma"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">relImpRelLemma</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">arity</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></span></div></div><p>Construct a <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.GCongrLemma">GCongrLemma</a></code> for <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> goals of the form <code>a ≺ b → c ≺ d</code>.
This will be tried if there is no other available <code>@[gcongr]</code> lemma.
For example, the relation <code>a ≡ b [ZMOD n]</code> has an instance of <code><a href="../../.././Mathlib/Order/Defs/Unbundled.html#IsTrans">IsTrans</a></code>, so a congruence of the form
<code>a ≡ b [ZMOD n] → c ≡ d [ZMOD n]</code> can be solved with <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.rel_imp_rel">rel_imp_rel</a></code>, <code>rel_trans</code> or <code>rel_trans'</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.relImpRelLemma" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.applyWithArity"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L460-L494">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.applyWithArity"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">applyWithArity</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">arity</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Meta.ApplyConfig">Meta.ApplyConfig</a> := <a href="../../.././Init/Meta/Defs.html#Lean.Meta.ApplyConfig.mk">{</a> <a href="../../.././Init/Meta/Defs.html#Lean.Meta.ApplyConfig.mk">}</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">term?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Message.html#Lean.MessageData">MessageData</a></span> := <a href="../../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><p><code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.applyWithArity">Lean.MVarId.applyWithArity</a></code> is a copy of <code><a href="../../.././Lean/Meta/Tactic/Apply.html#Lean.MVarId.apply">Lean.MVarId.apply</a></code>, where the arity of the
applied function is given explicitly instead of being inferred.</p><p>TODO: make <code><a href="../../.././Lean/Meta/Tactic/Apply.html#Lean.MVarId.apply">Lean.MVarId.apply</a></code> take a configuration argument to do this itself</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.MVarId.applyWithArity" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.gcongr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L496-L608">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">gcongr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mdataLhs?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">names</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">TSyntax</a> <span class="fn">`Lean.binderIdent</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">depth</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a> := <span class="fn">1000000</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mainGoalDischarger</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrForwardDischarger">Mathlib.Tactic.GCongr.gcongrForwardDischarger</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sideGoalDischarger</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></span> := <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.gcongrDischarger">Mathlib.Tactic.GCongr.gcongrDischarger</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">TSyntax</a> <span class="fn">`Lean.binderIdent</span>)</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></div></div><p>The core of the <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> tactic.  Parse a goal into the form <code>(f _ ... _) ∼ (f _ ... _)</code>,
look up any relevant <code>@[gcongr]</code> lemmas, try to apply them, recursively run the tactic itself on
&quot;main&quot; goals which are generated, and run the discharger on side goals which are generated. If there
is a user-provided template, first check that the template asks us to descend this far into the
match.</p></div></div><div class="decl" id="Mathlib.Tactic.GCongr.tacticGcongr___With___"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L610-L686">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.tacticGcongr___With___"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">tacticGcongr___With___</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>The <code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> tactic applies &quot;generalized congruence&quot; rules, reducing a relational goal
between an LHS and RHS.  For example,</p><pre><code>example {a b x c d : ℝ} (h1 : a + 1 ≤ b + 1) (h2 : c + 2 ≤ d + 2) :
    x ^ 2 * a + c ≤ x ^ 2 * b + d := by
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a>
  · linarith
  · linarith
</code></pre><p>This example has the goal of proving the relation <code>≤</code> between an LHS and RHS both of the pattern</p><pre><code>x ^ 2 * ?_ + ?_
</code></pre><p>(with inputs <code>a</code>, <code>c</code> on the left and <code>b</code>, <code>d</code> on the right); after the use of
<code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code>, we have the simpler goals <code>a ≤ b</code> and <code>c ≤ d</code>.</p><p>A depth limit or a pattern can be provided explicitly;
this is useful if a non-maximal match is desired:</p><pre><code>example {a b c d x : ℝ} (h : a + c + 1 ≤ b + d + 1) :
    x ^ 2 * (a + c) + 5 ≤ x ^ 2 * (b + d) + 5 := by
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a> x ^ 2 * ?_ + 5 -- or `gcongr 2`
  linarith
</code></pre><p>The &quot;generalized congruence&quot; rules are the library lemmas which have been tagged with the
attribute <code>@[gcongr]</code>.  For example, the first example constructs the proof term</p><pre><code>add_le_add (mul_le_mul_of_nonneg_left ?_ (Even.pow_nonneg (even_two_mul 1) x)) ?_
</code></pre><p>using the generalized congruence lemmas <code>add_le_add</code> and <code>mul_le_mul_of_nonneg_left</code>.</p><p>The tactic attempts to discharge side goals to these &quot;generalized congruence&quot; lemmas (such as the
side goal <code>0 ≤ x ^ 2</code> in the above application of <code>mul_le_mul_of_nonneg_left</code>) using the tactic
<code>gcongr_discharger</code>, which wraps <code>positivity</code> but can also be extended. Side goals not discharged
in this way are left for the user.</p><p><code><a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a></code> will descend into binders (for example sums or suprema). To name the bound variables,
use <code>with</code>:</p><pre><code>example {f g : ℕ → ℝ≥0∞} (h : ∀ n, f n ≤ g n) : ⨆ n, f n ≤ ⨆ n, g n := by
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Lean.MVarId.gcongr">gcongr</a> with i
  <a href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.exact">exact</a> h i
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.tacticGcongr___With___" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.GCongr.«tacticRel[_]»"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/GCongr/Core.lean#L688-L710">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/GCongr/Core.html#Mathlib.Tactic.GCongr.«tacticRel[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">GCongr</span>.<span class="name">«tacticRel[_]»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>The <code>rel</code> tactic applies &quot;generalized congruence&quot; rules to solve a relational goal by
&quot;substitution&quot;.  For example,</p><pre><code>example {a b x c d : ℝ} (h1 : a ≤ b) (h2 : c ≤ d) :
    x ^ 2 * a + c ≤ x ^ 2 * b + d := by
  rel [h1, h2]
</code></pre><p>In this example we &quot;substitute&quot; the hypotheses <code>a ≤ b</code> and <code>c ≤ d</code> into the LHS <code>x ^ 2 * a + c</code> of
the goal and obtain the RHS <code>x ^ 2 * b + d</code>, thus proving the goal.</p><p>The &quot;generalized congruence&quot; rules used are the library lemmas which have been tagged with the
attribute <code>@[gcongr]</code>.  For example, the first example constructs the proof term</p><pre><code>add_le_add (mul_le_mul_of_nonneg_left h1 (pow_bit0_nonneg x 1)) h2
</code></pre><p>using the generalized congruence lemmas <code>add_le_add</code> and <code>mul_le_mul_of_nonneg_left</code>.  If there are
no applicable generalized congruence lemmas, the tactic fails.</p><p>The tactic attempts to discharge side goals to these &quot;generalized congruence&quot; lemmas (such as the
side goal <code>0 ≤ x ^ 2</code> in the above application of <code>mul_le_mul_of_nonneg_left</code>) using the tactic
<code>gcongr_discharger</code>, which wraps <code>positivity</code> but can also be extended. If the side goals cannot
be discharged in this way, the tactic fails.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.GCongr.«tacticRel[_]»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>