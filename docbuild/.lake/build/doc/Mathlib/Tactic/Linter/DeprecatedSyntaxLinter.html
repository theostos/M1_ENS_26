<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Linter.DeprecatedSyntaxLinter</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Linter.DeprecatedSyntaxLinter";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Linter</span>.<span class="name">DeprecatedSyntaxLinter</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Lean/Elab/Command.html">Lean.Elab.Command</a></li><li><a href="../../.././Mathlib/Tactic/Linter/Header.html">Mathlib.Tactic.Linter.Header</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Linter.DeprecatedSyntaxLinter" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.refine"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">refine</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.cases"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">cases</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.induction"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">induction</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.admit"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">admit</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.nativeDecide"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">nativeDecide</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.Style.linter.style.maxHeartbeats"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">maxHeartbeats</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Linter-against-deprecated-syntax">Linter against deprecated syntax <a class="hover-link" href="#Linter-against-deprecated-syntax">#</a></h1><p><code>refine'</code>, <code>cases'</code> and <code>induction'</code> provide backward-compatible implementations of their
unprimed equivalents in Lean 3 â€“<code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">refine</a></code>, <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">cases</a></code> and <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction">induction</a></code> respectively.
They have been superseded by Lean 4 tactics:</p><ul>
<li><code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">refine</a></code> and <code>apply</code> replace <code>refine'</code>. While they are similar, they handle metavariables
slightly differently; this means that they are not completely interchangeable, nor can one
completely replace another. However, <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">refine</a></code> and <code>apply</code> are more readable and (heuristically)
tend to be more efficient on average.</li>
<li><code>obtain</code>, <code>rcases</code> and <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">cases</a></code> replace <code>cases'</code>. Unlike the replacement tactics, <code>cases'</code>
does not require the variables it introduces to be separated by case, which hinders readability.</li>
<li><code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction">induction</a></code> replaces <code>induction'</code> for similar reasons to <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">cases</a></code> and <code>cases'</code>.</li>
</ul><p>The <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.admit">admit</a></code> tactic is a synonym for the much more common <code>sorry</code>, so the latter should be preferred.</p><p>The <code>native_decide</code> tactic is not allowed in mathlib, as it trusts the entire Lean compiler
(and not just the Lean kernel). Because the latter is large and complicated, at present it is
probably possible to prove <code><a href="../../.././Init/Prelude.html#False">False</a></code> using <code>native_decide</code>.</p><p>This linter is an incentive to discourage uses of such deprecated syntax, without being a ban.
It is not inherently limited to tactics.</p></div><div class="decl" id="Mathlib.Linter.Style.linter.style.refine"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L44-L55">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">refine</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">linter.style.refine</a></code> of the deprecated syntax linter flags usages of
the <code>refine'</code> tactic.</p><p>The tactics <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">refine</a></code>, <code>apply</code> and <code>refine'</code> are similar, but they handle metavariables slightly
differently. This means that they are not completely interchangeable, nor can one completely
replace another. However, <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.refine">refine</a></code> and <code>apply</code> are more readable and (heuristically) tend to be
more efficient on average.</p></div></div><div class="decl" id="Mathlib.Linter.Style.linter.style.cases"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L57-L65">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">cases</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">linter.style.cases</a></code> of the deprecated syntax linter flags usages of
the <code>cases'</code> tactic, which is a backward-compatible version of Lean 3's <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">cases</a></code> tactic.
Unlike <code>obtain</code>, <code>rcases</code> and Lean 4's <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.cases">cases</a></code>, variables introduced by <code>cases'</code> are not
required to be separated by case, which hinders readability.</p></div></div><div class="decl" id="Mathlib.Linter.Style.linter.style.induction"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L67-L75">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">induction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction">linter.style.induction</a></code> of the deprecated syntax linter flags usages of
the <code>induction'</code> tactic, which is a backward-compatible version of Lean 3's <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction">induction</a></code> tactic.
Unlike Lean 4's <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.induction">induction</a></code>, variables introduced by <code>induction'</code> are not
required to be separated by case, which hinders readability.</p></div></div><div class="decl" id="Mathlib.Linter.Style.linter.style.admit"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L77-L82">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.admit"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">admit</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.admit">linter.style.admit</a></code> of the deprecated syntax linter flags usages of
the <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.admit">admit</a></code> tactic, which is a synonym for the much more common <code>sorry</code>.</p></div></div><div class="decl" id="Mathlib.Linter.Style.linter.style.nativeDecide"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L84-L92">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.nativeDecide"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">nativeDecide</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.nativeDecide">linter.style.nativeDecide</a></code> of the deprecated syntax linter flags usages of
the <code>native_decide</code> tactic, which is disallowed in mathlib.</p></div></div><div class="decl" id="Mathlib.Linter.Style.linter.style.maxHeartbeats"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/32d24245c7a12ded17325299fd41d412022cd3fe/Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.lean#L94-L103">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.maxHeartbeats"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">Style</span>.<span class="name">linter</span>.<span class="name">style</span>.<span class="name">maxHeartbeats</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The option <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.maxHeartbeats">linter.style.maxHeartbeats</a></code> of the deprecated syntax linter flags usages of
<code>set_option &lt;name-containing-maxHeartbeats&gt; n in cmd</code> that do not add a comment explaining
the reason for the modification of the <code><a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.maxHeartbeats">maxHeartbeats</a></code>.</p><p>This includes <code>set_option <a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.maxHeartbeats">maxHeartbeats</a> n in</code> and <code>set_option synthInstance.<a href="../../.././Mathlib/Tactic/Linter/DeprecatedSyntaxLinter.html#Mathlib.Linter.Style.linter.style.maxHeartbeats">maxHeartbeats</a> n in</code>.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>